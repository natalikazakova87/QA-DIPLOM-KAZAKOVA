## План автоматизации тестирования сценария покупки тура

### Перечень автоматизируемых сценариев:

1. Успешная покупка тура по approved карте:
- на странице сервиса нажать кнопку "Купить".
- ввести валидные данные одобренной карты.
- нажать кнопку "Продолжить"

*Ожидаемый результат*: Появляется информация в базе данных о том, что успешно совершена покупка. Пользователь видит сообщение об успешной покупке. Данные карты не сохраняются.

2. Успешная покупка тура в кредит:
- на странице сервиса нажать кнопку "Купить в кредит".
- ввести валидные данные одобренной карты.
- нажать кнопку "Продолжить".

*Ожидаемый результат*: Появляется информация в базе данных о том, что успешно совершена покупка. Пользователь видит сообщение об успешной покупке. Данные карты не сохраняются.

3. Попытка покупки тура по declined карте:
- на странице сервиса нажать кнопку "Купить".
- ввести данные отклоненной карты.
- нажать кнопку "Продолжить".

*Ожидаемый результат*: Покупка не совершается. Появляется информация в базе данных о том, что покупка отклонена. Данные карты не сохраняются. Пользователь видит сообщение об ошибке.

4. Попытка покупки тура в кредит по declined карте:
- на странице сервиса нажать кнопку "Купить в кредит".
- ввести данные отклоненной карты.
- нажать кнопку "Продолжить".

*Ожидаемый результат*: Покупка не совершается. Появляются данные в базе данных о том, что покупка отклонена. Данные карты не сохраняются. Пользователь видит сообщение об ошибке.

5. Попытка покупки тура с невалидными данными карты:
- на странице сервиса нажать кнопку "Купить".
- ввести невалидные данные:
    - номер карты из 4 цифр;
    - ввод букв в поле номера карты;
    - 13 месяц;
    - прошедший год;
    - имя владельца карты кириллицей;
    - ввод цифр в поле "Владелец";
    - ввод спецсимволов в поле "Владелец";
    - ввод 1 цифры в поле "cvc/cvv".
- нажать кнопку "Продолжить".

*Ожидаемый результат*: Покупка не совершается. Пользователь видит сообщение: "Неверный формат данных".

6. Попытка покупки тура в кредит с невалидными данными карты:
- на странице сервиса нажать кнопку "купить в кредит".
- ввести невалидные данные:
    - номер карты из 5 цифр;
    - ввод букв в поле номера карты;
    - 15 месяц;
    - прошедший год;
    - имя владельца карты кириллицей;
    - ввод цифр в поле "Владелец";
    - ввод спецсимволов в поле "Владелец";
    - ввод 2 цифры в поле "cvc/cvv".
- нажать кнопку "Продолжить".

*Ожидаемый результат*: Покупка не совершается. Пользователь видит сообщение: "Неверный формат данных".

7. Попытка покупки тура с незаполненной формой:
- на странице сервиса нажать кнопку "Купить".
- оставить форму незаполненной и нажать кнопку "Продолжить".

*Ожидаемый результат*: Покупка не совершается. Пользователь видит сообщение о необходимости заполнять поля.

8. Попытка покупки тура в кредит с незаполненной формой:
- на странице сервиса нажать кнопку "Купить в кредит".
- оставить форму незаполненной и нажать кнопку "Продолжить".

*Ожидаемый результат*: Покупка не совершается. Пользователь видит сообщение о необходимости заполнить поля.

9. Проверка поведения системы при падении базы данных.
10. Проверка поведения системы при отсутствии связи с сервером.

### Перечень используемых инструментов с обоснованием выбора:

- **Gradle** - система автоматический сборки, которую используют для упрощения работы с Java;
- **JUnit5** - инфраструктура модульного тестирования для Java, оснащенная множеством функций, включая вложенные тесты, параметризованные тесты, новые API расширения или поддержку Java;
- **Selenide** - для автоматизированного тестирования веб-приложений на основе Selenium WebDriver, дающий такие преимущества, как изящный API, поддержка Ajax для стабильных тестов, мощные селекторы, простая конфигурация;
- **REST-assured** - Java-библиотека для автоматизации тестирования REST-API;
- **Allure** - для генерации отчетов.

### Перечень и описание возможных рисков при автоматизаци:

- отсутствие легконаходимых локаторов для запросов, таких как id, test_id, data-test-id и др. увеличит время написания тестов;
- недостаточная можность сервера, он может не выдержать дополнительных нагрузок;
- без допуска к базе данных и API сайта невозможно проверить, какие данные уходят на сервер;
- отсутствие квалифицированных специалистов по автотестированию.

### Интервальная оценка с учетом риска в часах:

С учетом рисков для написания автотестов может понадобится около 100 часов.

### План сдачи работ:

- ожидается, что автотесты будут готовы ориентировочно к 30.10.2023;
- ожидается, что результатом их прогона будет успешное прохождение тестов.